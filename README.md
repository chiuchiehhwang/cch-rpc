# CCH-RPC
基于SPI机制的可扩展RPC框架

### 系统分层
整个系统分为服务层、配置层、代理层、注册中心层、协议层、远程通信层。
Service是服务层，是框架使用方的业务逻辑代码实现。
Config是配置层，是框架的配置。
Proxy是代理层，是服务暴露方接口实现类或者服务引用方接口的代理实现。
Registry是注册中心层，进行服务注册和服务发现。
Protocol是远程调用层，是远程调用的实现。
Remoting是远程通信层，它是是CCH-RPC协议的具体实现层。

### 通信协议
协议头(120)
+ Magic(16): 0xcce3
+ MsgType(3)
  + 第一位
    + 0：请求
    + 1：响应
  + 后两位
    + 具体的消息类型
    + 为请求消息时
      + 00: RPC调用请求
    + 为响应消息时
      + 00: 请求成功响应
      + 01: 请求失败响应
+ SerializationId(5)
  + 00000: gson
+ RequestId(64)
+ BodyLength(32)

协议体(BodyLength)
+ Body
  + 如果为请求，则为请求体
  + 如果为响应，则为响应体
  + 根据MsgType的不同，Body有不同的协议
#### RPC调用请求体

